<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Visitas</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-image: url('https://archive.org/download/windows-xp-bliss-4k-lu-3840x2400/windows-xp-bliss-4k-lu-3840x2400.jpg');
            background-size: cover;
            background-position: center;
            font-family: Arial, sans-serif;
            color: white;
            text-align: center;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
        }

        .button:hover {
            background-color: #0056b3;
        }

        #visit-counter {
            margin-top: 20px;
            font-size: 24px;
           }

        .naranja {
            color: orange; 
        }
    </style>
</head>
<body>
    <h1>Windows <span class="naranja">xp</span></h1>
    
    <a href="https://angels207.github.io/xd/" class="button">Ir a otra página</a>
    
     <div id="visit-counter">Visitantes únicos: 0</div>
    <script>
        // Contador de visitantes únicos usando countapi.xyz y localStorage
        document.addEventListener('DOMContentLoaded', () => {
            const namespace = 'angels207-webpage-unique';
            const key = 'visitantes_unicos';
            const localKey = 'alreadyCountedUniqueVisitor';

            // Si el usuario ya visitó, solo mostramos el número
            function showCounter() {
                fetch(`https://api.countapi.xyz/get/${namespace}/${key}`)
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('visit-counter').textContent = `Visitantes únicos: ${data.value}`;
                    })
                    .catch(error => {
                        document.getElementById('visit-counter').textContent = 'No se pudo obtener el contador';
                    });
            }

            if (!localStorage.getItem(localKey)) {
                // Primera vez: incrementar el contador global de visitantes únicos
                fetch(`https://api.countapi.xyz/hit/${namespace}/${key}`)
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('visit-counter').textContent = `Visitantes únicos: ${data.value}`;
                        localStorage.setItem(localKey, 'true');
                    })
                    .catch(error => {
                        document.getElementById('visit-counter').textContent = 'No se pudo obtener el contador';
                    });
            } else {
                // Ya visitó: solo mostrar el número actual
                showCounter();
            }
        });
    </script>
</body>
</html>
